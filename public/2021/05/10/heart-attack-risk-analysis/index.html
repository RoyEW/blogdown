<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.73.0" />


<title>Heart attack risk analysis - Roy Blogdown</title>
<meta property="og:title" content="Heart attack risk analysis - Roy Blogdown">


  <link href='/featured.ico' rel='icon' type='image/x-icon'/>



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/featured.png"
         width="50"
         height="50"
         alt="Roy Blogdown">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://www.linkedin.com/in/roy-w-a5bb3b83/">LinkedIn</a></li>
    
    <li><a href="/res/">Resources</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">15 min read</span>
    

    <h1 class="article-title">Heart attack risk analysis</h1>

    
    <span class="article-date">2021-05-10</span>
    

    <div class="article-content">
      
<script src="/2021/05/10/heart-attack-risk-analysis/index_files/header-attrs/header-attrs.js"></script>


<pre class="r"><code>library(tidyverse)
library(readr)
library(broom)
theme_set(theme_minimal())

heart &lt;- read_csv(&quot;heart.csv&quot;)</code></pre>
<p>The dataset can be found on <a href="https://www.kaggle.com/rashikrahmanpritom/heart-attack-analysis-prediction-dataset">kaggle</a></p>
<pre class="r"><code>glimpse(heart)</code></pre>
<pre><code>## Rows: 303
## Columns: 14
## $ age      &lt;dbl&gt; 63, 37, 41, 56, 57, 57, 56, 44, 52, 57, 54, 48, 49, 64, 58, 5~
## $ sex      &lt;dbl&gt; 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 1~
## $ cp       &lt;dbl&gt; 3, 2, 1, 1, 0, 0, 1, 1, 2, 2, 0, 2, 1, 3, 3, 2, 2, 3, 0, 3, 0~
## $ trtbps   &lt;dbl&gt; 145, 130, 130, 120, 120, 140, 140, 120, 172, 150, 140, 130, 1~
## $ chol     &lt;dbl&gt; 233, 250, 204, 236, 354, 192, 294, 263, 199, 168, 239, 275, 2~
## $ fbs      &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0~
## $ restecg  &lt;dbl&gt; 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1~
## $ thalachh &lt;dbl&gt; 150, 187, 172, 178, 163, 148, 153, 173, 162, 174, 160, 139, 1~
## $ exng     &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0~
## $ oldpeak  &lt;dbl&gt; 2.3, 3.5, 1.4, 0.8, 0.6, 0.4, 1.3, 0.0, 0.5, 1.6, 1.2, 0.2, 0~
## $ slp      &lt;dbl&gt; 0, 0, 2, 2, 2, 1, 1, 2, 2, 2, 2, 2, 2, 1, 2, 1, 2, 0, 2, 2, 1~
## $ caa      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0~
## $ thall    &lt;dbl&gt; 1, 2, 2, 2, 2, 1, 2, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3~
## $ output   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1~</code></pre>
<p>N = 303</p>
<div id="explanation-of-features" class="section level1">
<h1>Explanation of features</h1>
<ol style="list-style-type: decimal">
<li>age - age in years</li>
<li>sex - sex (1 = male; 0 = female)</li>
<li>cp - chest pain type (1 = typical angina; 2 = atypical angina; 3 = non-anginal pain; 0 = asymptomatic)</li>
<li>trestbps - resting blood pressure (in mm Hg on admission to the hospital)</li>
<li>chol - serum cholestoral in mg/dl</li>
<li>fbs - fasting blood sugar &gt; 120 mg/dl (1 = true; 0 = false)</li>
<li>restecg - resting electrocardiographic results (1 = normal; 2 = having ST-T wave abnormality; 0 = hypertrophy)</li>
<li>thalach - maximum heart rate achieved</li>
<li>exang - exercise induced angina (1 = yes; 0 = no)</li>
<li>oldpeak - ST depression induced by exercise relative to rest</li>
<li>slope - the slope of the peak exercise ST segment (2 = upsloping; 1 = flat; 0 = downsloping)</li>
<li>ca - number of major vessels (0-3) colored by flourosopy</li>
<li>thal - 2 = normal; 1 = fixed defect; 3 = reversable defect</li>
<li>output - diagnosis of heart disease</li>
</ol>
<p>It is my understanding that the ST is a specific interval of time during an electrocardiogram stress test.</p>
</div>
<div id="exploring-the-dataset" class="section level1">
<h1>Exploring the dataset</h1>
<pre class="r"><code>heart %&gt;% 
  count(output)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   output     n
## *  &lt;dbl&gt; &lt;int&gt;
## 1      0   138
## 2      1   165</code></pre>
<p>The dataset represents 54.46% of people who suffer with heart disease.</p>
<div id="covariance-matrix" class="section level2">
<h2>Covariance matrix</h2>
<pre class="r"><code>g &lt;- cor(heart)

corrplot::corrplot(g)</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The covariance matrix above shows heart disease to be positively correlated with chest pain, the maximum heart rate achieved, and the incline type of exercise during the testing segment; and negatively correlated with exercise induced angina, and ST depression induced by exercise. I expect any machine learning model to take these correlations into account.</p>
</div>
<div id="age-distribution" class="section level2">
<h2>Age distribution</h2>
<pre class="r"><code>heart %&gt;% 
  ggplot(aes(age)) +
  geom_histogram(alpha = 0.5, fill = &quot;dodgerblue&quot;,binwidth = 5)+
  geom_vline(xintercept = mean(heart$age),lty = 2)</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>heart %&gt;% 
  ggplot(aes(age))+
  geom_density()+
  geom_vline(xintercept = mean(heart$age),lty = 2)</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>The observations within the dataset tends to skew older ages.</p>
</div>
<div id="sex-distribution" class="section level2">
<h2>Sex distribution</h2>
<pre class="r"><code>heart %&gt;% 
  count(sex)</code></pre>
<pre><code>## # A tibble: 2 x 2
##     sex     n
## * &lt;dbl&gt; &lt;int&gt;
## 1     0    96
## 2     1   207</code></pre>
<p>There are ~twice the amount of men featured in the dataset than women.</p>
</div>
<div id="chest-pain-distribution" class="section level2">
<h2>Chest pain distribution</h2>
<pre class="r"><code>heart %&gt;% 
  ggplot(aes(cp))+
  geom_histogram(fill = &quot;dodgerblue&quot;)+
  ggtitle(&quot;Chest pain&quot;, subtitle = &quot;chest pain type (1 = typical angina; 2 = atypical angina; 3 = non-anginal pain; 0 = asymptomatic)&quot;)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="resting-blood-pressure" class="section level2">
<h2>Resting blood pressure</h2>
<pre class="r"><code>heart %&gt;% 
  ggplot(aes(trtbps))+
  geom_histogram(fill = &quot;dodgerblue&quot;)+
  ggtitle(&quot;Resting blood pressure&quot;, subtitle = &quot;resting blood pressure (in mm Hg on admission to the hospital)&quot;)+
  geom_errorbarh(aes(xmin = 90, xmax = 120, y = 20),height = 4)+
  annotate(&quot;text&quot;,label = &quot;NHS &#39;normal&#39; range&quot;, x = 105, y = 22)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-10-1.png" width="672" />
There are a few observations with very high outlier resting blood pressure. According to the <a href="https://www.nhs.uk/common-health-questions/lifestyle/what-is-blood-pressure/">NHS</a>, a normal range for resting blood pressure in between 90 and 120.</p>
<pre class="r"><code>heart %&gt;% 
  filter(trtbps&gt;120) %&gt;% 
  count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1   206</code></pre>
<p>The dataset skews heavily 67.99% outside of the ‘normal’ range for resting blood pressure.</p>
</div>
<div id="cholestoral-levels" class="section level2">
<h2>Cholestoral levels</h2>
<pre class="r"><code>heart %&gt;% 
  ggplot(aes(chol)) +
  geom_histogram(fill = &quot;dodgerblue&quot;) +
  ggtitle(&quot;Cholestoral levels&quot;,subtitle = &quot;serum cholestoral in mg/dl&quot;)+
  geom_errorbarh(aes(xmin = 125, xmax = 200, y = 20),height = 2) +
  annotate(&quot;text&quot;,label = &quot;&#39;normal&#39; range&quot;, x = 162.5, y = 22)</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-13-1.png" width="672" />
The normal range for cholesterol levels according to <a href="https://www.medicinenet.com/what_is_the_normal_range_for_cholesterol_levels/article.htm">medicinenet.com</a> is 125 to 200 mg/dL for men and women over age 20. Most of the observations fall outside of this range. There are very high outliers within the dataset with levels above 400 mg/dL.</p>
</div>
</div>
<div id="fitting-a-model-with-predictive-power" class="section level1">
<h1>Fitting a model with predictive power</h1>
<pre class="r"><code>i &lt;- sample(c(rep(0, 0.7 * (nrow(heart)+1)),
              rep(1, 0.3 * (nrow(heart)+1))))


heart_train &lt;- heart[i == 0, ]       
heart_test &lt;- heart[i == 1, ]     



y &lt;- heart_train$output
#colnames(heart)[1:ncol(heart)-1]
x &lt;- data.matrix(heart_train[, c(colnames(heart)[1:ncol(heart)-1])])


library(glmnet)</code></pre>
<pre><code>## Warning: package &#39;glmnet&#39; was built under R version 4.0.4</code></pre>
<pre><code>## Loading required package: Matrix</code></pre>
<pre><code>## 
## Attaching package: &#39;Matrix&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:tidyr&#39;:
## 
##     expand, pack, unpack</code></pre>
<pre><code>## Loaded glmnet 4.1-1</code></pre>
<pre class="r"><code>heart_model &lt;- cv.glmnet(x, y, alpha = 1)

best_lambda &lt;- heart_model$lambda.min

best_lambda</code></pre>
<pre><code>## [1] 0.01033434</code></pre>
<pre class="r"><code>plot(heart_model)</code></pre>
<p><img src="/2021/05/10/heart-attack-risk-analysis/index_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre class="r"><code>best_model &lt;- glmnet(x, y, alpha = 1, lambda = best_lambda)
coef(best_model)</code></pre>
<pre><code>## 14 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
##                        s0
## (Intercept)  5.046882e-01
## age          .           
## sex         -1.794291e-01
## cp           1.262074e-01
## trtbps      -1.289225e-03
## chol        -3.148404e-05
## fbs          8.894708e-04
## restecg      5.430675e-02
## thalachh     3.592303e-03
## exng        -9.953312e-02
## oldpeak     -3.979187e-02
## slp          7.726261e-02
## caa         -9.892261e-02
## thall       -1.353494e-01</code></pre>
<p>The fbs (fasting blood sugar) coefficient has been reduced to zero because of the nature of the Lasso regression model used. The Lasso regression is often implemented when there are lots of features and over-fitting a model may become a problem in producing an accurate model. Coefficients tending to zero are dropped from the model completely.</p>
<pre class="r"><code>heart_test_x &lt;- data.matrix(heart_test[, c(colnames(heart)[1:ncol(heart)-1])])
heart_test_y &lt;- heart_test$output
predictions &lt;- predict(best_model, s = best_lambda, newx = heart_test_x)
dim(predictions)</code></pre>
<pre><code>## [1] 91  1</code></pre>
<pre class="r"><code>dim(y)</code></pre>
<pre><code>## NULL</code></pre>
<pre class="r"><code>sst &lt;- sum((y - mean(y))^2)
sse &lt;- sum((predictions - heart_test_y)^2)

#find R-Squared
rsq &lt;- 1 - sse/sst
rsq</code></pre>
<pre><code>## [1] 0.7739155</code></pre>
<p>The R-squared turns out to be 0.7739. That is, the best model was able to explain 77.39% of the variation in the response values of the training data.</p>
<pre class="r"><code>full_results &lt;- cbind(data.frame(heart_test_y),predictions, heart_test_x) %&gt;% 
  rename(&quot;prediction&quot; = &quot;1&quot;,
         &quot;output&quot; = &quot;heart_test_y&quot;)



full_results</code></pre>
<pre><code>##    output  prediction age sex cp trtbps chol fbs restecg thalachh exng oldpeak
## 1       1  0.90286754  41   0  1    130  204   0       0      172    0     1.4
## 2       1  0.83505893  56   1  1    120  236   0       1      178    0     0.8
## 3       1  0.65068677  57   1  0    140  192   0       1      148    0     0.4
## 4       1  0.74560455  56   0  1    140  294   0       0      153    0     1.3
## 5       1  0.71273144  44   1  1    120  263   0       1      173    0     0.0
## 6       1  0.60239435  54   1  0    140  239   0       1      160    0     1.2
## 7       1  0.80403442  49   1  1    130  266   0       1      171    0     0.6
## 8       1  0.42783249  59   1  0    135  234   0       1      161    0     0.5
## 9       1  0.86844449  44   1  2    130  233   0       1      179    1     0.4
## 10      1  0.88143406  65   0  2    140  417   1       0      157    0     0.8
## 11      1  0.56443843  54   1  2    125  273   0       0      152    0     0.5
## 12      1  0.71728837  46   0  2    142  177   0       0      160    1     1.4
## 13      1  0.98676450  65   0  2    155  269   0       1      148    0     0.8
## 14      1  0.72137369  48   1  1    130  245   0       0      180    0     0.2
## 15      1  0.63312355  53   0  0    130  264   0       0      143    0     0.4
## 16      1  0.83589523  47   1  2    138  257   0       0      156    0     0.0
## 17      1  0.85973769  71   0  2    110  265   1       0      130    0     0.0
## 18      1  1.17034762  52   1  3    118  186   0       0      190    0     0.0
## 19      1  0.86727082  45   0  1    130  234   0       0      175    0     0.6
## 20      1  0.71708236  51   1  2    125  245   1       0      166    0     2.4
## 21      1  0.87999792  52   1  1    128  205   1       1      184    0     0.0
## 22      1  0.81662729  52   1  3    152  298   1       1      178    0     1.2
## 23      1  0.58579362  42   0  0    102  265   0       0      122    0     0.6
## 24      1  0.77340106  67   0  2    115  564   0       0      160    0     1.6
## 25      1  0.70908685  54   0  1    132  288   1       0      159    1     0.0
## 26      1  0.83807335  45   0  1    112  160   0       1      138    0     0.0
## 27      1  0.18276331  53   1  0    142  226   0       0      111    1     0.0
## 28      1  0.61174613  53   1  2    130  246   1       0      173    0     0.0
## 29      1  0.79897164  42   1  3    148  244   0       0      178    0     0.8
## 30      1  0.82757492  63   0  1    140  195   0       1      179    0     0.0
## 31      1  0.66538133  69   1  3    160  234   1       0      131    0     0.1
## 32      1  0.56444728  45   0  0    138  236   0       0      152    1     0.2
## 33      1  0.94482172  50   0  1    120  244   0       1      162    0     1.1
## 34      1  0.69858392  57   1  2    150  126   1       1      173    0     0.2
## 35      1  0.72066093  56   1  3    120  193   0       0      162    0     1.9
## 36      1  0.67643947  59   1  0    138  271   0       0      182    0     0.0
## 37      1  1.21080598  39   0  2     94  199   0       1      179    0     0.0
## 38      1  0.98528141  52   0  2    136  196   0       0      169    0     0.1
## 39      1  0.57980039  74   0  1    120  269   0       0      121    1     0.2
## 40      1  0.46674531  57   1  0    110  201   0       1      126    1     1.5
## 41      1  1.01705112  51   0  2    120  295   0       0      157    0     0.6
## 42      1  0.63078575  43   1  0    115  303   0       1      181    0     1.2
## 43      1  0.88261890  44   0  2    118  242   0       1      149    0     0.3
## 44      1  1.19897487  60   0  3    150  240   0       1      171    0     0.9
## 45      1  0.96108397  44   1  2    120  226   0       1      169    0     0.0
## 46      1  0.60184532  71   0  0    112  149   0       1      125    0     1.6
## 47      1  0.11459253  58   1  1    125  220   0       1      144    0     0.4
## 48      1  0.61093173  56   1  1    130  221   0       0      163    0     0.0
## 49      1  0.93665561  55   0  1    132  342   0       1      166    0     1.2
## 50      0 -0.15147753  67   1  0    160  286   0       0      108    1     1.5
## 51      0  0.27873269  62   0  0    140  268   0       0      160    0     3.6
## 52      0  0.63259368  56   1  2    130  256   1       0      142    1     0.6
## 53      0  0.44521008  58   1  2    132  224   0       0      173    0     3.2
## 54      0 -0.09630627  60   1  0    130  206   0       0      132    1     2.4
## 55      0  0.89235238  64   1  2    140  335   0       1      158    0     0.0
## 56      0  0.06825742  43   1  0    120  177   0       0      120    1     2.5
## 57      0  0.24510609  57   1  0    150  276   0       0      112    1     0.6
## 58      0  0.09746674  55   1  0    132  353   0       1      132    1     1.2
## 59      0  0.49409000  41   1  0    110  172   0       0      158    0     0.0
## 60      0  0.14145329  54   1  0    120  188   0       1      113    0     1.4
## 61      0  0.02383927  60   1  0    125  258   0       0      141    1     2.8
## 62      0  0.34692890  39   1  0    118  219   0       1      140    0     1.2
## 63      0  0.36445062  61   0  0    145  307   0       0      146    1     1.0
## 64      0  0.23480541  56   1  0    125  249   1       0      144    1     1.2
## 65      0  0.79497264  65   1  3    138  282   1       0      174    0     1.4
## 66      0 -0.14615246  56   0  0    200  288   1       0      133    1     4.0
## 67      0  0.04419805  54   1  0    110  239   0       1      126    1     2.8
## 68      0  0.71007798  59   1  3    170  288   0       0      159    0     0.2
## 69      0  0.43174665  64   1  2    125  309   0       1      131    1     1.8
## 70      0 -0.11557214  57   1  0    165  289   1       0      124    0     1.0
## 71      0 -0.08389185  57   1  0    152  274   0       1       88    1     1.2
## 72      0  0.18637474  56   1  0    132  184   0       0      105    1     2.1
## 73      0 -0.26425931  51   1  0    140  298   0       1      122    1     4.2
## 74      0  0.18769060  62   0  0    138  294   1       1      106    0     1.9
## 75      0  0.56246583  62   0  0    150  244   0       1      154    1     1.4
## 76      0  0.67047967  38   1  3    120  231   0       1      182    1     3.8
## 77      0 -0.15236619  53   1  0    123  282   0       1       95    1     2.0
## 78      0  0.45594873  63   0  0    108  269   0       1      169    1     1.8
## 79      0  0.17303546  54   1  0    110  206   0       0      108    1     0.0
## 80      0  0.36298371  55   0  0    180  327   0       2      117    1     3.4
## 81      0 -0.04247213  54   1  0    122  286   0       0      116    1     3.2
## 82      0  0.67841833  58   0  1    136  319   1       0      152    0     0.0
## 83      0  0.41410642  42   1  0    136  315   0       1      125    1     1.8
## 84      0 -0.07743010  46   1  0    140  311   0       1      120    1     1.8
## 85      0  0.41028451  61   1  0    148  203   0       1      161    0     0.0
## 86      0  0.17261002  58   1  0    114  318   0       2      140    0     4.4
## 87      0  0.33691938  58   0  0    170  225   1       0      146    1     2.8
## 88      0  0.55326353  67   1  2    152  212   0       0      150    0     0.8
## 89      0  0.13675791  59   1  0    164  176   1       0       90    0     1.0
## 90      0  0.03332208  68   1  0    144  193   1       1      141    0     3.4
## 91      0  0.78856806  57   0  1    130  236   0       0      174    0     0.0
##    slp caa thall
## 1    2   0     2
## 2    2   0     2
## 3    1   0     1
## 4    1   0     2
## 5    2   0     3
## 6    2   0     2
## 7    2   0     2
## 8    1   0     3
## 9    2   0     2
## 10   2   1     2
## 11   0   1     2
## 12   0   0     2
## 13   2   0     2
## 14   1   0     2
## 15   1   0     2
## 16   2   0     2
## 17   2   1     2
## 18   1   0     1
## 19   1   0     2
## 20   1   0     2
## 21   2   0     2
## 22   1   0     3
## 23   1   0     2
## 24   1   0     3
## 25   2   1     2
## 26   1   0     2
## 27   2   0     3
## 28   2   3     2
## 29   2   2     2
## 30   2   2     2
## 31   1   1     2
## 32   1   0     2
## 33   2   0     2
## 34   2   1     3
## 35   1   0     3
## 36   2   0     2
## 37   2   0     2
## 38   1   0     2
## 39   2   1     2
## 40   1   0     1
## 41   2   0     2
## 42   1   0     2
## 43   1   1     2
## 44   2   0     2
## 45   2   0     2
## 46   1   0     2
## 47   1   4     3
## 48   2   0     3
## 49   2   0     2
## 50   1   3     2
## 51   0   2     2
## 52   1   1     1
## 53   2   2     3
## 54   1   2     3
## 55   2   0     2
## 56   1   0     3
## 57   1   1     1
## 58   1   1     3
## 59   2   0     3
## 60   1   1     3
## 61   1   1     3
## 62   1   0     3
## 63   1   0     3
## 64   1   1     2
## 65   1   1     2
## 66   0   2     3
## 67   1   1     3
## 68   1   0     3
## 69   1   0     3
## 70   1   3     3
## 71   1   1     3
## 72   1   1     1
## 73   1   3     3
## 74   1   3     2
## 75   1   0     2
## 76   1   0     3
## 77   1   2     3
## 78   1   2     2
## 79   1   1     2
## 80   1   0     2
## 81   1   2     2
## 82   2   2     2
## 83   1   0     1
## 84   1   2     3
## 85   2   1     3
## 86   0   3     1
## 87   1   2     1
## 88   1   0     3
## 89   1   2     1
## 90   1   2     3
## 91   1   1     2</code></pre>
<pre class="r"><code>confusion_matrix &lt;- full_results %&gt;% 
  mutate(correct_prediction = ifelse(output == round(prediction,0),&quot;CORRECT&quot;,&quot;INCORRECT&quot;))</code></pre>
<pre class="r"><code>(cf &lt;- confusion_matrix %&gt;% 
  count(correct_prediction))</code></pre>
<pre><code>##   correct_prediction  n
## 1            CORRECT 78
## 2          INCORRECT 13</code></pre>
<p>The lasso regression is correct for 85.71% of the testing observations.</p>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

