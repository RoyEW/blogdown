---
title: Time-series and yfinance api
author: ~
date: '2020-07-07'
slug: time-series-and-yfinance-api
categories: []
tags: []
---



<p>Python integration using the reticulate package</p>
<pre class="r"><code>library(reticulate)</code></pre>
<pre class="python"><code>import yfinance as yf
msft = yf.Ticker(&quot;MSFT&quot;)</code></pre>
<pre class="python"><code>data=msft.history(period=&quot;max&quot;)</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## -- Attaching packages ------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.0     v purrr   0.3.4
## v tibble  3.0.1     v dplyr   0.8.5
## v tidyr   1.0.3     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ---------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(lubridate)</code></pre>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     intersect, setdiff, union</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<pre class="r"><code>data &lt;- py$data
data &lt;- cbind(date = rownames(data), data)
rownames(data) &lt;- 1:nrow(data)
data &lt;- data %&gt;% 
  mutate(date=ymd(date))

data %&gt;% 
  ggplot(aes(date,Close))+
  geom_point()</code></pre>
<p><img src="/post/2020-07-07-time-series-and-yfinance-api_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
